<Window x:Class="RemoteManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="远程管理工具"
        Width="600"
        Height="400"
        WindowStartupLocation="CenterScreen">

    <DockPanel Margin="10">
        <!-- 顶部按钮 -->
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,10">
            <Button Content="新增" Command="{Binding AddCommand}" Width="80" Margin="0,0,5,0"/>
            <Button Content="编辑" Command="{Binding EditCommand}" Width="80" Margin="0,0,5,0"/>
            <Button Content="删除" Command="{Binding DeleteCommand}" Width="80" Margin="0,0,5,0"/>
            <Button Content="刷新" Command="{Binding ReloadCommand}" Width="80" Margin="0,0,5,0"/>
            <Button Content="查看 JSON" Width="100" Click="OpenJson_Click"/>
        </StackPanel>

        <!-- 数据表格 -->
        <DataGrid ItemsSource="{Binding Servers}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  SelectedItem="{Binding SelectedServer}"
                  IsReadOnly="True"
                  GridLinesVisibility="All"
                  RowHeaderWidth="0"
                  MouseDoubleClick="DataGrid_MouseDoubleClick">

            <DataGrid.Columns>

                <!-- 序号 -->
                <!--
                <DataGridTextColumn Header="序号" Binding="{Binding Id}" Width="*"/>-->

                <!-- 名称 -->
                <DataGridTextColumn Header="名称" Binding="{Binding Name}" Width="*"/>

                <!-- IP -->
                <DataGridTextColumn Header="IP" Binding="{Binding Address}" Width="*"/>

                <!-- 用户名 -->
                <DataGridTextColumn Header="账号" Binding="{Binding UserName}" Width="*"/>

                <!-- 密码 -->
                <!--
                <DataGridTextColumn Header="密码" Binding="{Binding Password}" Width="*"/>-->

                <!-- 连接按钮 -->
                <DataGridTemplateColumn Header="操作" Width="80">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Content="连接"
                                    Command="{Binding DataContext.ConnectCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                    CommandParameter="{Binding}" Width="60"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
    </DockPanel>
</Window>
